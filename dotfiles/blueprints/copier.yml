_min_copier_version: "9.0.0"
_subdirectory: template
_answers_file: .copier-answers.yml

_exclude:
  # Language-specific: TypeScript
  - "{% if language != 'typescript' %}tsconfig.json{% endif %}"
  - "{% if language != 'typescript' %}.nvmrc{% endif %}"
  - "{% if language != 'typescript' %}package.json{% endif %}"
  - "{% if language != 'typescript' %}vitest.config.ts{% endif %}"
  # TypeScript but not mobile (Expo manages its own)
  - "{% if project_type == 'mobile' %}package.json{% endif %}"
  - "{% if project_type == 'mobile' %}vitest.config.ts{% endif %}"
  # Language-specific: Go
  - "{% if language != 'go' %}go.mod{% endif %}"
  - "{% if language != 'go' %}Makefile{% endif %}"
  - "{% if language != 'go' %}.golangci.yml{% endif %}"
  # Docker
  - "{% if not docker %}Dockerfile{% endif %}"
  - "{% if not docker %}.dockerignore{% endif %}"
  # CI: entire .github directory
  - "{% if not ci %}.github{% endif %}"
  # CI: ci workflow (libraries and apps with a language)
  - "{% if language == 'none' or not ci %}.github/workflows/ci.yml{% endif %}"
  # CI: library-only workflow
  - "{% if project_type != 'library' or not ci %}.github/workflows/release.yml{% endif %}"
  # CI: deploy workflow
  - "{% if deploy != 'kubernetes' %}.github/workflows/deploy.yml{% endif %}"
  # Skills: structuring-code excluded for "none" project type
  - "{% if project_type == 'none' %}.claude/skills/structuring-code{% endif %}"
  # Internal
  - "copier.yml"

# =============================================================================
# Project metadata
# =============================================================================

project_name:
  type: str
  help: "Project name"
  default: "{{ _copier_conf.dst_path | basename }}"

author_name:
  type: str
  help: "Author name"
  default: "Jean-Baptiste Terrazzoni"

author_email:
  type: str
  help: "Author email"
  default: "admin@jterrazz.com"

github_username:
  type: str
  help: "GitHub username"
  default: "jterrazz"

# =============================================================================
# Project type
# =============================================================================

language:
  type: str
  help: "Primary language"
  choices:
    TypeScript: typescript
    Go: go
    None (config files only): "none"
  default: "none"

project_type:
  type: str
  help: "Project type"
  choices:
    API / Backend service: api
    CLI tool: cli
    Library / Package: library
    Web application: web
    Mobile application: mobile
    None: "none"
  default: "none"

# =============================================================================
# Optional features
# =============================================================================

license:
  type: str
  help: "License type"
  choices:
    MIT License: MIT
    Proprietary (All Rights Reserved): proprietary
  default: MIT

ci:
  type: bool
  help: "Include GitHub Actions CI workflow?"
  default: true

docker:
  type: bool
  help: "Include Dockerfile?"
  default: false

deploy:
  type: str
  help: "Deployment target"
  choices:
    None: "none"
    Kubernetes: kubernetes
  default: "none"
